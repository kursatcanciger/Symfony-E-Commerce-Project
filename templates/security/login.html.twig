{% extends 'template.html.twig' %}

{% block content %}
	<div class="card mt-4">
		<div class="card-body">
			<form method="POST" class="mb-4">
				{% if error %}
					<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
				{% endif %}

				{% if app.user %}
					<div class="mb-3">
						You are logged in as
						{{ app.user.userIdentifier }},
						<a href="{{ path('app_logout') }}">Logout</a>
					</div>
				{% endif %}
				<div class="mb-3">
					<label for="email" class="form-label">Email address</label>
					<input type="email" class="form-control" value="{{ last_username }}" id="email" name="email" autocomplete="email" required autofocus>
				</div>
				<div class="mb-3">
					<label for="password" class="form-label">Password</label>
					<input type="password" class="form-control" id="password" name="password" autocomplete="current-password" required>
				</div>
				<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
				<button type="submit" class="btn btn-primary">Sign in</button>
			</form>
			<small>You don't have an account? Please
				<a href="{{ path('app_register') }}">register now</a>.</small>
		</div>
	</div>
{% endblock %}
